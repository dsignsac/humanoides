---
interface Props {
  mode?: "once" | "loop" | "retractable" | "static";
  variant?: "full" | "iso";
  class?: string;
  color?: string;
  align?: "left" | "center" | "right";
}

const {
  mode = "once",
  variant = "full",
  class: className = "",
  color = "var(--color-brand-red)",
  align = "center",
} = Astro.props;
---

<div
  class={`animated-logo-wrapper ${className}`}
  data-mode={mode}
  data-variant={variant}
  data-align={align}
  style={{ color }}
>
  <svg
    id="humanoides-logo-svg"
    viewBox={variant === "iso" ? "0 0 751 300" : "0 0 1710 300"}
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    role="img"
    aria-label="Humanoides & Asociados Logo"
  >
    <g id="isotipo-group">
      <!-- Semicírculos exteriores -->
      <path
        id="circle-outer-left"
        d="M0 150C0 67.1573 67.1573 0 150 0V300C67.1573 300 0 232.843 0 150Z"
        fill="currentColor"></path>
      <path
        id="circle-outer-right"
        d="M601 0C683.843 0 751 67.1573 751 150C751 232.843 683.843 300 601 300V0Z"
        fill="currentColor"></path>

      <!-- Semicírculos interiores -->
      <path
        id="circle-inner-left"
        d="M113 150C113 67.1573 180.157 0 263 0V300C180.157 300 113 232.843 113 150Z"
        fill="currentColor"></path>
      <path
        id="circle-inner-right"
        d="M488 0C570.843 0 638 67.1573 638 150C638 232.843 570.843 300 488 300V0Z"
        fill="currentColor"></path>

      <!-- Letra A central -->
      <path
        id="letter-a"
        d="M303.878 300H242.928L329.638 6.05997H421.408L507.888 300H446.938L378.398 45.85H372.878L303.878 300ZM441.648 225.02H308.708V176.95H441.648V225.02Z"
        fill="currentColor"></path>
    </g>

    {
      variant === "full" && (
        <g id="logotipo-group">
          <path
            id="text-humanoides"
            d="M826.19 16.98V132H802.43V16.98H826.19ZM894.95 16.98V132H871.28V16.98H894.95ZM816.02 82.86V63.15H880.28V82.86H816.02ZM906.668 43.71H929.708V96.81C929.708 100.47 930.188 103.68 931.148 106.44C932.168 109.14 933.818 111.24 936.098 112.74C938.438 114.18 941.558 114.9 945.458 114.9C948.998 114.9 952.058 114.27 954.638 113.01C957.218 111.75 959.348 110.07 961.028 107.97C962.708 105.81 963.938 103.41 964.718 100.77L968.318 113.28H963.998C963.038 117.12 961.418 120.63 959.138 123.81C956.918 126.93 953.858 129.42 949.958 131.28C946.118 133.14 941.288 134.07 935.468 134.07C928.748 134.07 923.258 132.78 918.998 130.2C914.798 127.62 911.678 123.81 909.638 118.77C907.658 113.73 906.668 107.52 906.668 100.14V43.71ZM964.178 43.71H987.218V132H964.268L965.078 110.58L964.178 108.69V43.71ZM1130.35 132H1107.22V78.36C1107.22 74.76 1106.77 71.67 1105.87 69.09C1104.97 66.45 1103.47 64.41 1101.37 62.97C1099.33 61.53 1096.54 60.81 1093 60.81C1089.76 60.81 1086.94 61.44 1084.54 62.7C1082.14 63.96 1080.19 65.67 1078.69 67.83C1077.19 69.93 1076.08 72.33 1075.36 75.03L1072.84 62.43H1075.18C1076.14 58.65 1077.7 55.2 1079.86 52.08C1082.02 48.9 1084.96 46.38 1088.68 44.52C1092.46 42.66 1097.23 41.73 1102.99 41.73C1109.41 41.73 1114.6 42.99 1118.56 45.51C1122.58 47.97 1125.55 51.69 1127.47 56.67C1129.39 61.59 1130.35 67.71 1130.35 75.03V132ZM1021.45 132H998.412V43.71H1021.45L1020.55 66.12L1021.45 67.11V132ZM1075.9 132H1052.86V78.36C1052.86 74.76 1052.41 71.67 1051.51 69.09C1050.61 66.45 1049.11 64.41 1047.01 62.97C1044.97 61.53 1042.18 60.81 1038.64 60.81C1035.34 60.81 1032.49 61.44 1030.09 62.7C1027.75 63.96 1025.8 65.67 1024.24 67.83C1022.74 69.93 1021.63 72.33 1020.91 75.03L1017.31 62.43H1021.63C1022.53 58.53 1024.03 55.02 1026.13 51.9C1028.29 48.78 1031.2 46.32 1034.86 44.52C1038.52 42.66 1043.08 41.73 1048.54 41.73C1056.76 41.73 1062.94 43.83 1067.08 48.03C1071.28 52.23 1073.92 58.35 1075 66.39C1075.24 67.59 1075.45 69 1075.63 70.62C1075.81 72.18 1075.9 73.65 1075.9 75.03V132ZM1214.47 132H1191.7L1192.51 110.4L1191.88 108.42V80.79L1191.79 76.83C1191.79 71.07 1190.2 66.84 1187.02 64.14C1183.9 61.44 1178.77 60.09 1171.63 60.09C1165.57 60.09 1159.87 60.9 1154.53 62.52C1149.25 64.08 1144.36 65.91 1139.86 68.01L1141.84 49.65C1144.48 48.27 1147.48 46.98 1150.84 45.78C1154.26 44.52 1158.07 43.5 1162.27 42.72C1166.47 41.94 1171 41.55 1175.86 41.55C1183.06 41.55 1189.15 42.42 1194.13 44.16C1199.11 45.84 1203.07 48.27 1206.01 51.45C1209.01 54.63 1211.17 58.44 1212.49 62.88C1213.81 67.26 1214.47 72.12 1214.47 77.46V132ZM1162.81 134.07C1154.05 134.07 1147.36 131.88 1142.74 127.5C1138.18 123.12 1135.9 116.88 1135.9 108.78V106.26C1135.9 97.68 1138.54 91.35 1143.82 87.27C1149.1 83.13 1157.47 80.28 1168.93 78.72L1193.95 75.3L1195.3 90.15L1172.26 93.48C1167.22 94.14 1163.62 95.34 1161.46 97.08C1159.36 98.82 1158.31 101.37 1158.31 104.73V105.63C1158.31 108.93 1159.33 111.51 1161.37 113.37C1163.47 115.17 1166.74 116.07 1171.18 116.07C1175.14 116.07 1178.53 115.44 1181.35 114.18C1184.17 112.92 1186.48 111.27 1188.28 109.23C1190.14 107.13 1191.46 104.79 1192.24 102.21L1195.48 113.64H1191.52C1190.56 117.42 1189 120.87 1186.84 123.99C1184.74 127.05 1181.77 129.51 1177.93 131.37C1174.09 133.17 1169.05 134.07 1162.81 134.07ZM1304.95 132H1281.91V78.99C1281.91 75.27 1281.4 72.06 1280.38 69.36C1279.42 66.66 1277.8 64.56 1275.52 63.06C1273.24 61.56 1270.12 60.81 1266.16 60.81C1262.68 60.81 1259.62 61.44 1256.98 62.7C1254.4 63.96 1252.27 65.67 1250.59 67.83C1248.97 69.93 1247.74 72.33 1246.9 75.03L1243.3 62.43H1247.62C1248.58 58.53 1250.17 55.02 1252.39 51.9C1254.67 48.78 1257.73 46.32 1261.57 44.52C1265.47 42.66 1270.33 41.73 1276.15 41.73C1282.93 41.73 1288.42 43.02 1292.62 45.6C1296.82 48.12 1299.91 51.9 1301.89 56.94C1303.93 61.98 1304.95 68.22 1304.95 75.66V132ZM1247.44 132H1224.4V43.71H1247.44L1246.54 65.22L1247.44 67.11V132ZM1353.58 134.43C1339.9 134.43 1329.52 130.92 1322.44 123.9C1315.42 116.88 1311.91 106.89 1311.91 93.93V81.96C1311.91 68.94 1315.42 58.92 1322.44 51.9C1329.52 44.82 1339.9 41.28 1353.58 41.28C1367.2 41.28 1377.52 44.82 1384.54 51.9C1391.56 58.92 1395.07 68.94 1395.07 81.96V93.93C1395.07 106.89 1391.56 116.88 1384.54 123.9C1377.58 130.92 1367.26 134.43 1353.58 134.43ZM1353.58 115.98C1359.58 115.98 1364.14 114.18 1367.26 110.58C1370.44 106.98 1372.03 101.82 1372.03 95.1V80.79C1372.03 73.95 1370.44 68.73 1367.26 65.13C1364.14 61.47 1359.58 59.64 1353.58 59.64C1347.52 59.64 1342.9 61.47 1339.72 65.13C1336.6 68.73 1335.04 73.95 1335.04 80.79V95.1C1335.04 101.82 1336.6 106.98 1339.72 110.58C1342.9 114.18 1347.52 115.98 1353.58 115.98ZM1426.14 132H1403.1V43.71H1426.14V132ZM1414.62 33.27C1410.24 33.27 1407 32.25 1404.9 30.21C1402.86 28.11 1401.84 25.23 1401.84 21.57V21.12C1401.84 17.46 1402.86 14.58 1404.9 12.48C1407 10.38 1410.24 9.33 1414.62 9.33C1418.94 9.33 1422.15 10.38 1424.25 12.48C1426.35 14.58 1427.4 17.46 1427.4 21.12V21.57C1427.4 25.29 1426.35 28.17 1424.25 30.21C1422.15 32.25 1418.94 33.27 1414.62 33.27ZM1465.96 134.07C1455.58 134.07 1447.69 130.71 1442.29 123.99C1436.89 117.27 1434.19 107.37 1434.19 94.29V82.14C1434.19 68.88 1436.92 58.83 1442.38 51.99C1447.84 45.15 1455.97 41.73 1466.77 41.73C1472.05 41.73 1476.49 42.57 1480.09 44.25C1483.75 45.93 1486.69 48.33 1488.91 51.45C1491.19 54.57 1492.78 58.23 1493.68 62.43H1500.43L1494.58 79.53C1494.46 75.39 1493.59 71.91 1491.97 69.09C1490.41 66.21 1488.22 64.02 1485.4 62.52C1482.58 61.02 1479.25 60.27 1475.41 60.27C1469.59 60.27 1465.12 61.95 1462 65.31C1458.94 68.67 1457.41 73.68 1457.41 80.34V94.92C1457.41 101.52 1458.94 106.5 1462 109.86C1465.12 113.22 1469.65 114.9 1475.59 114.9C1478.95 114.9 1481.95 114.27 1484.59 113.01C1487.23 111.75 1489.42 110.04 1491.16 107.88C1492.96 105.66 1494.25 103.17 1495.03 100.41L1500.52 113.28H1494.04C1493.08 117.12 1491.52 120.63 1489.36 123.81C1487.2 126.93 1484.23 129.42 1480.45 131.28C1476.67 133.14 1471.84 134.07 1465.96 134.07ZM1517.26 132H1494.22L1495.03 110.4L1494.58 105.27V69.18L1494.67 65.49L1494.22 40.2V13.02H1517.26V132ZM1569.85 134.16C1554.73 134.16 1543.48 130.68 1536.1 123.72C1528.72 116.76 1525.03 106.68 1525.03 93.48V81.96C1525.03 68.88 1528.48 58.83 1535.38 51.81C1542.28 44.79 1552.3 41.28 1565.44 41.28C1574.32 41.28 1581.73 42.84 1587.67 45.96C1593.61 49.08 1598.05 53.52 1600.99 59.28C1603.99 64.98 1605.49 71.82 1605.49 79.8V82.95C1605.49 85.11 1605.37 87.33 1605.13 89.61C1604.95 91.83 1604.68 93.93 1604.32 95.91H1583.44C1583.62 92.61 1583.71 89.49 1583.71 86.55C1583.77 83.55 1583.8 80.85 1583.8 78.45C1583.8 74.31 1583.14 70.8 1581.82 67.92C1580.5 64.98 1578.49 62.76 1575.79 61.26C1573.09 59.76 1569.64 59.01 1565.44 59.01C1559.26 59.01 1554.7 60.72 1551.76 64.14C1548.82 67.56 1547.35 72.42 1547.35 78.72V86.91L1547.44 89.52V96.45C1547.44 99.21 1547.86 101.76 1548.7 104.1C1549.6 106.44 1551.07 108.48 1553.11 110.22C1555.15 111.9 1557.85 113.22 1561.21 114.18C1564.63 115.14 1568.89 115.62 1573.99 115.62C1579.51 115.62 1584.76 115.02 1589.74 113.82C1594.78 112.56 1599.55 110.88 1604.05 108.78L1602.07 126.96C1598.05 129.18 1593.31 130.92 1587.85 132.18C1582.45 133.5 1576.45 134.16 1569.85 134.16ZM1599.64 95.91H1537.27V80.61H1599.64V95.91ZM1643.37 134.16C1636.29 134.16 1629.99 133.47 1624.47 132.09C1619.01 130.77 1614.36 129.27 1610.52 127.59L1608.45 107.61C1613.01 109.71 1618.02 111.54 1623.48 113.1C1629 114.66 1635.06 115.44 1641.66 115.44C1647.42 115.44 1651.59 114.72 1654.17 113.28C1656.75 111.78 1658.04 109.56 1658.04 106.62V106.08C1658.04 104.1 1657.44 102.48 1656.24 101.22C1655.1 99.96 1653.06 98.82 1650.12 97.8C1647.18 96.72 1643.04 95.58 1637.7 94.38C1630.32 92.64 1624.47 90.63 1620.15 88.35C1615.89 86.01 1612.83 83.16 1610.97 79.8C1609.11 76.38 1608.18 72.3 1608.18 67.56V66.75C1608.18 58.41 1611.15 52.14 1617.09 47.94C1623.03 43.68 1631.82 41.55 1643.46 41.55C1650.36 41.55 1656.45 42.24 1661.73 43.62C1667.07 44.94 1671.51 46.53 1675.05 48.39L1677.12 66.75C1672.92 64.77 1668.21 63.12 1662.99 61.8C1657.77 60.42 1652.16 59.73 1646.16 59.73C1642.26 59.73 1639.17 60.06 1636.89 60.72C1634.67 61.32 1633.08 62.19 1632.12 63.33C1631.16 64.47 1630.68 65.85 1630.68 67.47V67.92C1630.68 69.72 1631.19 71.28 1632.21 72.6C1633.29 73.92 1635.24 75.12 1638.06 76.2C1640.88 77.22 1644.84 78.33 1649.94 79.53C1657.38 81.09 1663.35 82.92 1667.85 85.02C1672.35 87.12 1675.62 89.82 1677.66 93.12C1679.7 96.36 1680.72 100.62 1680.72 105.9V106.98C1680.72 116.1 1677.63 122.91 1671.45 127.41C1665.27 131.91 1655.91 134.16 1643.37 134.16Z"
            fill="currentColor"
          />

          <path
            id="text-asociados"
            d="M911.69 276H885.86C884.78 274.92 883.37 273.51 881.63 271.77C879.89 270.03 878.06 268.2 876.14 266.28C874.22 264.3 872.39 262.47 870.65 260.79C868.97 259.11 867.68 257.82 866.78 256.92L863.63 253.32L823.49 215.79L819.8 211.74C815.72 207.66 812.72 203.79 810.8 200.13C808.88 196.47 807.92 192.18 807.92 187.26V186.63C807.92 177.93 810.8 171.09 816.56 166.11C822.38 161.13 831.08 158.64 842.66 158.64C849.86 158.64 856.07 159.27 861.29 160.53C866.51 161.79 870.92 163.23 874.52 164.85L876.68 184.47C872.66 182.73 868.13 181.26 863.09 180.06C858.11 178.8 852.95 178.17 847.61 178.17C842.09 178.17 838.16 179.1 835.82 180.96C833.48 182.76 832.31 185.28 832.31 188.52V188.88C832.31 191.46 833.06 193.89 834.56 196.17C836.12 198.45 838.46 201.09 841.58 204.09L877.13 238.2L882.71 244.14C884.69 246.12 886.64 248.1 888.56 250.08C890.48 252 892.4 253.92 894.32 255.84C896.24 257.76 898.16 259.71 900.08 261.69C902 263.67 903.92 265.71 905.84 267.81C907.76 269.85 909.71 271.95 911.69 274.11V276ZM838.52 278.43C824.78 278.43 814.55 275.31 807.83 269.07C801.11 262.83 797.75 254.07 797.75 242.79V240.45C797.75 232.23 799.43 225.39 802.79 219.93C806.15 214.47 811.7 209.7 819.44 205.62L831.86 220.11C828.08 221.91 825.35 224.25 823.67 227.13C821.99 230.01 821.15 233.82 821.15 238.56V240.63C821.15 246.69 822.8 251.31 826.1 254.49C829.46 257.67 834.44 259.26 841.04 259.26C846.5 259.26 851.15 258.24 854.99 256.2C858.89 254.1 862.22 251.16 864.98 247.38L871.19 239.91C874.07 234.81 876.29 229.23 877.85 223.17C879.41 217.11 880.49 210.69 881.09 203.91H903.5C902.42 213.63 900.5 222.63 897.74 230.91C894.98 239.19 891.08 246.69 886.04 253.41L879.02 260.34C875.84 264.12 872.33 267.36 868.49 270.06C864.65 272.76 860.27 274.83 855.35 276.27C850.49 277.71 844.88 278.43 838.52 278.43ZM961.8 276H937.95L971.88 160.98H1007.79L1041.63 276H1017.78L990.96 176.55H988.8L961.8 276ZM1015.71 246.66H963.69V227.85H1015.71V246.66ZM1075.81 278.16C1068.73 278.16 1062.43 277.47 1056.91 276.09C1051.45 274.77 1046.8 273.27 1042.96 271.59L1040.89 251.61C1045.45 253.71 1050.46 255.54 1055.92 257.1C1061.44 258.66 1067.5 259.44 1074.1 259.44C1079.86 259.44 1084.03 258.72 1086.61 257.28C1089.19 255.78 1090.48 253.56 1090.48 250.62V250.08C1090.48 248.1 1089.88 246.48 1088.68 245.22C1087.54 243.96 1085.5 242.82 1082.56 241.8C1079.62 240.72 1075.48 239.58 1070.14 238.38C1062.76 236.64 1056.91 234.63 1052.59 232.35C1048.33 230.01 1045.27 227.16 1043.41 223.8C1041.55 220.38 1040.62 216.3 1040.62 211.56V210.75C1040.62 202.41 1043.59 196.14 1049.53 191.94C1055.47 187.68 1064.26 185.55 1075.9 185.55C1082.8 185.55 1088.89 186.24 1094.17 187.62C1099.51 188.94 1103.95 190.53 1107.49 192.39L1109.56 210.75C1105.36 208.77 1100.65 207.12 1095.43 205.8C1090.21 204.42 1084.6 203.73 1078.6 203.73C1074.7 203.73 1071.61 204.06 1069.33 204.72C1067.11 205.32 1065.52 206.19 1064.56 207.33C1063.6 208.47 1063.12 209.85 1063.12 211.47V211.92C1063.12 213.72 1063.63 215.28 1064.65 216.6C1065.73 217.92 1067.68 219.12 1070.5 220.2C1073.32 221.22 1077.28 222.33 1082.38 223.53C1089.82 225.09 1095.79 226.92 1100.29 229.02C1104.79 231.12 1108.06 233.82 1110.1 237.12C1112.14 240.36 1113.16 244.62 1113.16 249.9V250.98C1113.16 260.1 1110.07 266.91 1103.89 271.41C1097.71 275.91 1088.35 278.16 1075.81 278.16ZM1157.09 278.43C1143.41 278.43 1133.03 274.92 1125.95 267.9C1118.93 260.88 1115.42 250.89 1115.42 237.93V225.96C1115.42 212.94 1118.93 202.92 1125.95 195.9C1133.03 188.82 1143.41 185.28 1157.09 185.28C1170.71 185.28 1181.03 188.82 1188.05 195.9C1195.07 202.92 1198.58 212.94 1198.58 225.96V237.93C1198.58 250.89 1195.07 260.88 1188.05 267.9C1181.09 274.92 1170.77 278.43 1157.09 278.43ZM1157.09 259.98C1163.09 259.98 1167.65 258.18 1170.77 254.58C1173.95 250.98 1175.54 245.82 1175.54 239.1V224.79C1175.54 217.95 1173.95 212.73 1170.77 209.13C1167.65 205.47 1163.09 203.64 1157.09 203.64C1151.03 203.64 1146.41 205.47 1143.23 209.13C1140.11 212.73 1138.55 217.95 1138.55 224.79V239.1C1138.55 245.82 1140.11 250.98 1143.23 254.58C1146.41 258.18 1151.03 259.98 1157.09 259.98ZM1243.24 278.25C1229.62 278.25 1219.51 274.65 1212.91 267.45C1206.37 260.25 1203.1 250.14 1203.1 237.12V226.32C1203.1 213.36 1206.4 203.31 1213 196.17C1219.6 189.03 1229.68 185.46 1243.24 185.46C1246.78 185.46 1250.08 185.76 1253.14 186.36C1256.26 186.9 1259.08 187.65 1261.6 188.61C1264.18 189.57 1266.43 190.59 1268.35 191.67L1270.24 211.02C1267.3 209.16 1264 207.6 1260.34 206.34C1256.74 205.08 1252.57 204.45 1247.83 204.45C1240.39 204.45 1234.93 206.37 1231.45 210.21C1228.03 213.99 1226.32 219.51 1226.32 226.77V236.31C1226.32 243.51 1228.09 249.06 1231.63 252.96C1235.23 256.86 1240.75 258.81 1248.19 258.81C1252.93 258.81 1257.13 258.21 1260.79 257.01C1264.45 255.75 1267.87 254.22 1271.05 252.42L1269.16 271.86C1266.22 273.54 1262.53 275.01 1258.09 276.27C1253.65 277.59 1248.7 278.25 1243.24 278.25ZM1300.28 276H1277.24V187.71H1300.28V276ZM1288.76 177.27C1284.38 177.27 1281.14 176.25 1279.04 174.21C1277 172.11 1275.98 169.23 1275.98 165.57V165.12C1275.98 161.46 1277 158.58 1279.04 156.48C1281.14 154.38 1284.38 153.33 1288.76 153.33C1293.08 153.33 1296.29 154.38 1298.39 156.48C1300.49 158.58 1301.54 161.46 1301.54 165.12V165.57C1301.54 169.29 1300.49 172.17 1298.39 174.21C1296.29 176.25 1293.08 177.27 1288.76 177.27ZM1385.37 276H1362.6L1363.41 254.4L1362.78 252.42V224.79L1362.69 220.83C1362.69 215.07 1361.1 210.84 1357.92 208.14C1354.8 205.44 1349.67 204.09 1342.53 204.09C1336.47 204.09 1330.77 204.9 1325.43 206.52C1320.15 208.08 1315.26 209.91 1310.76 212.01L1312.74 193.65C1315.38 192.27 1318.38 190.98 1321.74 189.78C1325.16 188.52 1328.97 187.5 1333.17 186.72C1337.37 185.94 1341.9 185.55 1346.76 185.55C1353.96 185.55 1360.05 186.42 1365.03 188.16C1370.01 189.84 1373.97 192.27 1376.91 195.45C1379.91 198.63 1382.07 202.44 1383.39 206.88C1384.71 211.26 1385.37 216.12 1385.37 221.46V276ZM1333.71 278.07C1324.95 278.07 1318.26 275.88 1313.64 271.5C1309.08 267.12 1306.8 260.88 1306.8 252.78V250.26C1306.8 241.68 1309.44 235.35 1314.72 231.27C1320 227.13 1328.37 224.28 1339.83 222.72L1364.85 219.3L1366.2 234.15L1343.16 237.48C1338.12 238.14 1334.52 239.34 1332.36 241.08C1330.26 242.82 1329.21 245.37 1329.21 248.73V249.63C1329.21 252.93 1330.23 255.51 1332.27 257.37C1334.37 259.17 1337.64 260.07 1342.08 260.07C1346.04 260.07 1349.43 259.44 1352.25 258.18C1355.07 256.92 1357.38 255.27 1359.18 253.23C1361.04 251.13 1362.36 248.79 1363.14 246.21L1366.38 257.64H1362.42C1361.46 261.42 1359.9 264.87 1357.74 267.99C1355.64 271.05 1352.67 273.51 1348.83 275.37C1344.99 277.17 1339.95 278.07 1333.71 278.07ZM1423.91 278.07C1413.53 278.07 1405.64 274.71 1400.24 267.99C1394.84 261.27 1392.14 251.37 1392.14 238.29V226.14C1392.14 212.88 1394.87 202.83 1400.33 195.99C1405.79 189.15 1413.92 185.73 1424.72 185.73C1430 185.73 1434.44 186.57 1438.04 188.25C1441.7 189.93 1444.64 192.33 1446.86 195.45C1449.14 198.57 1450.73 202.23 1451.63 206.43H1458.38L1452.53 223.53C1452.41 219.39 1451.54 215.91 1449.92 213.09C1448.36 210.21 1446.17 208.02 1443.35 206.52C1440.53 205.02 1437.2 204.27 1433.36 204.27C1427.54 204.27 1423.07 205.95 1419.95 209.31C1416.89 212.67 1415.36 217.68 1415.36 224.34V238.92C1415.36 245.52 1416.89 250.5 1419.95 253.86C1423.07 257.22 1427.6 258.9 1433.54 258.9C1436.9 258.9 1439.9 258.27 1442.54 257.01C1445.18 255.75 1447.37 254.04 1449.11 251.88C1450.91 249.66 1452.2 247.17 1452.98 244.41L1458.47 257.28H1451.99C1451.03 261.12 1449.47 264.63 1447.31 267.81C1445.15 270.93 1442.18 273.42 1438.4 275.28C1434.62 277.14 1429.79 278.07 1423.91 278.07ZM1475.21 276H1452.17L1452.98 254.4L1452.53 249.27V213.18L1452.62 209.49L1452.17 184.2V157.02H1475.21V276ZM1524.65 278.43C1510.97 278.43 1500.59 274.92 1493.51 267.9C1486.49 260.88 1482.98 250.89 1482.98 237.93V225.96C1482.98 212.94 1486.49 202.92 1493.51 195.9C1500.59 188.82 1510.97 185.28 1524.65 185.28C1538.27 185.28 1548.59 188.82 1555.61 195.9C1562.63 202.92 1566.14 212.94 1566.14 225.96V237.93C1566.14 250.89 1562.63 260.88 1555.61 267.9C1548.65 274.92 1538.33 278.43 1524.65 278.43ZM1524.65 259.98C1530.65 259.98 1535.21 258.18 1538.33 254.58C1541.51 250.98 1543.1 245.82 1543.1 239.1V224.79C1543.1 217.95 1541.51 212.73 1538.33 209.13C1535.21 205.47 1530.65 203.64 1524.65 203.64C1518.59 203.64 1513.97 205.47 1510.79 209.13C1507.67 212.73 1506.11 217.95 1506.11 224.79V239.1C1506.11 245.82 1507.67 250.98 1510.79 254.58C1513.97 258.18 1518.59 259.98 1524.65 259.98ZM1604.14 278.16C1597.06 278.16 1590.76 277.47 1585.24 276.09C1579.78 274.77 1575.13 273.27 1571.29 271.59L1569.22 251.61C1573.78 253.71 1578.79 255.54 1584.25 257.1C1589.77 258.66 1595.83 259.44 1602.43 259.44C1608.19 259.44 1612.36 258.72 1614.94 257.28C1617.52 255.78 1618.81 253.56 1618.81 250.62V250.08C1618.81 248.1 1618.21 246.48 1617.01 245.22C1615.87 243.96 1613.83 242.82 1610.89 241.8C1607.95 240.72 1603.81 239.58 1598.47 238.38C1591.09 236.64 1585.24 234.63 1580.92 232.35C1576.66 230.01 1573.6 227.16 1571.74 223.8C1569.88 220.38 1568.95 216.3 1568.95 211.56V210.75C1568.95 202.41 1571.92 196.14 1577.86 191.94C1583.8 187.68 1592.59 185.55 1604.23 185.55C1611.13 185.55 1617.22 186.24 1622.5 187.62C1627.84 188.94 1632.28 190.53 1635.82 192.39L1637.89 210.75C1633.69 208.77 1628.98 207.12 1623.76 205.8C1618.54 204.42 1612.93 203.73 1606.93 203.73C1603.03 203.73 1599.94 204.06 1597.66 204.72C1595.44 205.32 1593.85 206.19 1592.89 207.33C1591.93 208.47 1591.45 209.85 1591.45 211.47V211.92C1591.45 213.72 1591.96 215.28 1592.98 216.6C1594.06 217.92 1596.01 219.12 1598.83 220.2C1601.65 221.22 1605.61 222.33 1610.71 223.53C1618.15 225.09 1624.12 226.92 1628.62 229.02C1633.12 231.12 1636.39 233.82 1638.43 237.12C1640.47 240.36 1641.49 244.62 1641.49 249.9V250.98C1641.49 260.1 1638.4 266.91 1632.22 271.41C1626.04 275.91 1616.68 278.16 1604.14 278.16Z"
            fill="currentColor"
          />
        </g>
      )
    }
  </svg>
</div>

<script>
  import { gsap } from "gsap";

  document.addEventListener("astro:page-load", () => {
    const wrappers = document.querySelectorAll(".animated-logo-wrapper");
    const hasAnimatedThisSession = sessionStorage.getItem("ha-logo-animated");

    wrappers.forEach((wrapper) => {
      const mode = wrapper.getAttribute("data-mode") || "once";
      const variant = wrapper.getAttribute("data-variant") || "full";
      const align = wrapper.getAttribute("data-align") || "center";

      // Elementos DENTRO de este wrapper específico
      const isotipoGroup = wrapper.querySelector("#isotipo-group");
      const circleOuterLeft = wrapper.querySelector("#circle-outer-left");
      const circleOuterRight = wrapper.querySelector("#circle-outer-right");
      const circleInnerLeft = wrapper.querySelector("#circle-inner-left");
      const circleInnerRight = wrapper.querySelector("#circle-inner-right");
      const letterA = wrapper.querySelector("#letter-a");
      const textHumanoides = wrapper.querySelector("#text-humanoides");
      const textAsociados = wrapper.querySelector("#text-asociados");
      const logotipoGroup = wrapper.querySelector("#logotipo-group");
      const mobileTitle = document.querySelector("#mobile-title");

      if (!isotipoGroup) return;

      // --- INTRO ANIMATION LOGIC ---

      const setFinalState = () => {
        gsap.set(circleOuterLeft, { x: 0 });
        gsap.set(circleOuterRight, { x: 0 });
        gsap.set(circleInnerLeft, { x: 0 });
        gsap.set(circleInnerRight, { x: 0 });
        gsap.set(letterA, {
          clipPath: "inset(0 7.5% 0 7.5%)",
          scale: 1,
          transformOrigin: "center",
        });
        gsap.set(isotipoGroup, { x: 0 });
        if (variant === "full") {
          gsap.set(logotipoGroup, { x: 0 });
          gsap.set(textHumanoides, { clipPath: "inset(0 0% 0 0)" });
          gsap.set(textAsociados, { clipPath: "inset(0 0% 0 0)" });
        }
        if (variant === "iso" && mobileTitle) {
          gsap.set(mobileTitle, { opacity: 1, y: 0 });
        }
      };

      if (mode === "static" || (mode === "once" && hasAnimatedThisSession)) {
        setFinalState();
      } else {
        // Intro Timeline
        const tl = gsap.timeline({
          defaults: { ease: "power2.inOut" },
          repeat: mode === "loop" || mode === "retractable" ? -1 : 0,
          repeatDelay: mode === "retractable" ? 0.2 : 0.4,
          yoyo: mode === "retractable",
          onComplete: () => {
            if (mode === "once")
              sessionStorage.setItem("ha-logo-animated", "true");
          },
        });

        gsap.set(isotipoGroup, { x: variant === "iso" ? 0 : 480 });
        if (variant === "full") {
          gsap.set(logotipoGroup, { x: 0 });
          gsap.set(textHumanoides, { clipPath: "inset(0 100% 0 0)" });
          gsap.set(textAsociados, { clipPath: "inset(0 100% 0 0)" });
        }

        tl.to({}, { duration: 0.2 })
          .fromTo(
            circleOuterLeft,
            { x: 225.5 },
            { x: 112.5, duration: 0.5, ease: "power2.out" },
          )
          .fromTo(
            circleOuterRight,
            { x: -225.5 },
            { x: -112.5, duration: 0.5, ease: "power2.out" },
            "<",
          )
          .fromTo(
            circleInnerLeft,
            { x: 112.5 },
            { x: 0, duration: 0.5, ease: "power2.out" },
            "-=0.2",
          )
          .fromTo(
            circleInnerRight,
            { x: -112.5 },
            { x: 0, duration: 0.5, ease: "power2.out" },
            "<",
          )
          .to(circleOuterLeft, { x: 0, duration: 0.5, ease: "power2.out" }, "<")
          .to(
            circleOuterRight,
            { x: 0, duration: 0.5, ease: "power2.out" },
            "<",
          )
          .fromTo(
            letterA,
            { clipPath: "inset(0 50% 0 50%)" },
            {
              clipPath: "inset(0 7.5% 0 7.5%)",
              duration: 0.4,
              ease: "power2.out",
            },
            "<+=0.1",
          )
          .to({}, { duration: 0.1 });

        if (variant === "full") {
          tl.to(isotipoGroup, {
            x: 0,
            duration: 0.4,
            ease: "power2.inOut",
          })
            .to(
              textHumanoides,
              {
                clipPath: "inset(0 0% 0 0)",
                duration: 0.35,
                ease: "power2.out",
              },
              "-=0.1",
            )
            .to(
              textAsociados,
              {
                clipPath: "inset(0 0% 0 0)",
                duration: 0.4,
                ease: "power2.out",
              },
              "<",
            );
        }
        if (variant === "iso" && mobileTitle) {
          tl.fromTo(
            mobileTitle,
            { opacity: 0, y: -11 },
            { opacity: 1, y: 0, duration: 0.4, ease: "power2.out" },
            "-=0.2",
          );
        }
      }

      // --- HOVER ANIMATION LOGIC ---
      let hoverTl = gsap.timeline({ paused: true });

      let alignShift = 0;
      if (align === "left") alignShift = -225.5;
      else if (align === "right") alignShift = 225.5;

      hoverTl
        .to(
          isotipoGroup,
          { x: alignShift, duration: 0.4, ease: "power3.inOut" },
          0,
        )
        .to(
          circleOuterLeft,
          {
            x: 225.5,
            duration: 0.4,
            ease: "power3.inOut",
          },
          0,
        )
        .to(
          circleOuterRight,
          { x: -225.5, duration: 0.4, ease: "power3.inOut" },
          0,
        )
        .to(
          circleInnerLeft,
          { x: 112.5, duration: 0.4, ease: "power3.inOut" },
          0,
        )
        .to(
          circleInnerRight,
          { x: -112.5, duration: 0.4, ease: "power3.inOut" },
          0,
        )
        .to(
          logotipoGroup,
          {
            x: -225.5 + alignShift,
            duration: 0.4,
            ease: "power3.inOut",
          },
          0,
        )
        .to(
          letterA,
          {
            clipPath: "inset(0 50% 0 50%)",
            scale: 0,
            transformOrigin: "center",
            duration: 0.3,
            ease: "power3.in",
          },
          "<",
        );

      if (mode !== "static") {
        wrapper.addEventListener("mouseenter", () => {
          hoverTl.play();
        });

        wrapper.addEventListener("mouseleave", () => {
          hoverTl.reverse();
        });
      }
    });
  });
</script>

<style>
  .animated-logo-wrapper {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    cursor: pointer;
  }

  .animated-logo-wrapper[data-align="left"] {
    margin: 0;
    max-width: none;
  }

  #humanoides-logo-svg {
    width: 100%;
    height: auto;
    overflow: visible;
  }
</style>
