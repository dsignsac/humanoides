---

---

<form id="sync-form" class="w-full flex flex-col gap-4 md:gap-6 font-sans">
  <div class="flex flex-col gap-1.5">
    <label
      for="name"
      class="text-[10px] md:text-xs font-sans font-bold tracking-normal text-brand-black uppercase"
      >Nombre / Empresa</label
    >
    <input
      type="text"
      id="name"
      name="name"
      required
      class="w-full bg-transparent border-b border-brand-black py-1.5 md:py-2 text-brand-black focus:outline-none focus:border-brand-red transition-colors text-sm placeholder:text-brand-black/30 font-semibold"
      placeholder="Ingrese su nombre o razón social"
    />
  </div>

  <div class="flex flex-col gap-1.5">
    <label
      for="email"
      class="text-[10px] md:text-xs font-sans font-bold tracking-normal text-brand-black uppercase"
      >Correo Corporativo</label
    >
    <input
      type="email"
      id="email"
      name="email"
      required
      class="w-full bg-transparent border-b border-brand-black py-1.5 md:py-2 text-brand-black focus:outline-none focus:border-brand-red transition-colors text-sm placeholder:text-brand-black/30 font-semibold"
      placeholder="Ingrese un email de contacto"
    />
  </div>

  <div class="flex flex-col gap-1.5">
    <label
      for="description"
      class="text-[10px] md:text-xs font-sans font-bold tracking-normal text-brand-black uppercase"
      >Descripción Del Proyecto</label
    >
    <textarea
      id="description"
      name="description"
      rows="3"
      required
      class="w-full bg-transparent border-b border-brand-black py-1.5 md:py-2 text-brand-black focus:outline-none focus:border-brand-red transition-colors text-sm resize-none placeholder:text-brand-black/30 font-semibold"
      placeholder="Describa brevemente su necesidad u objetivo"></textarea>
  </div>

  <div class="flex flex-col gap-3">
    <button
      type="submit"
      class="mt-2 md:mt-4 w-full md:w-auto self-start inline-flex items-center justify-center px-8 py-3.5 md:py-4 bg-brand-black text-brand-gray text-sm font-bold tracking-normal hover:bg-brand-red hover:text-white transition-all duration-300 rounded-full"
    >
      Enviar Solicitud
    </button>
  </div>
</form>

<script>
  const form = document.getElementById("sync-form") as HTMLFormElement;
  const descriptionInput = document.getElementById(
    "description",
  ) as HTMLTextAreaElement;

  // Handle query parameter for auto-filling description
  const updateDescriptionFromQuery = () => {
    const urlParams = new URLSearchParams(window.location.search);
    const subject = urlParams.get("subject");
    if (subject && descriptionInput) {
      descriptionInput.value = `Interés en servicio/programa: ${subject}\n\n`;
      // Smooth scroll to form if subject is present
      const contactSection = document.getElementById("contacto");
      if (contactSection) {
        contactSection.scrollIntoView({ behavior: "smooth" });
      }
    }
  };

  // Run on load
  updateDescriptionFromQuery();

  form?.addEventListener("submit", (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const name = formData.get("name") || "";
    const email = formData.get("email") || "";
    const description = formData.get("description") || "";

    const text = `hola humanoides & asociados me llamo ${name} y quiero trabajar con ustedes, mi email es:${email}. El proyecto consiste en: ${description}. Saludos!`;
    const encodedText = encodeURIComponent(text);
    const whatsappUrl = `https://api.whatsapp.com/send?phone=34627191859&text=${encodedText}`;

    window.open(whatsappUrl, "_blank");

    // Optional: clear form
    form.reset();
  });
</script>
