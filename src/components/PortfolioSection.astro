---
/**
 * Portfolio Section Component
 * Stuctured for future Headless WP integration.
 * Style: Technical, Industrial, Efficient.
 */

interface Project {
  id: string;
  client: string;
  project: string;
  service: string;
  year: string;
  status: string;
  image: string; // URL for now, later WP Media Item
  url: string;
}

// SIMULATED DATA (Replace with API fetch later)
const projects: Project[] = [
  {
    id: "001",
    client: "TESLA",
    project: "CYBERTRUCK UI",
    service: "INTERFACE DESIGN",
    year: "2024",
    status: "SHIPPED",
    image: "https://images.unsplash.com/photo-1699313277983-f366113824ee?q=80&w=2540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", // Tech/Car placeholder
    url: "/projects/tesla-cybertruck"
  },
  {
    id: "002",
    client: "NASA / JPL",
    project: "MARS ROVER DASHBOARD",
    service: "DATA VISUALIZATION",
    year: "2023",
    status: "ARCHIVED",
    image: "https://images.unsplash.com/photo-1541873676-a18131494184?q=80&w=2518&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", // Space placeholder
    url: "/projects/nasa-jpl"
  },
  {
    id: "003",
    client: "BRAUN",
    project: "E-COMMERCE SYSTEM",
    service: "FULL STACK DEV",
    year: "2025",
    status: "IN PROGRESS",
    image: "https://images.unsplash.com/photo-1526659547046-d725d1902263?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", // Minimal product placeholder
    url: "#"
  }
];
---

<section id="log" class="w-full bg-brand-gray text-brand-black pb-24 border-t border-brand-black/10">
  
  <div class="w-full max-w-[1440px] mx-auto px-6 py-24">
    <!-- Big Headline -->
    <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-8 md:mb-16 pb-8 border-b border-brand-black/10 gap-8">
        <div>
            <span class="text-xs font-mono uppercase tracking-[0.3em] text-brand-red mb-4 block">// INDEX_02</span>
            <h2 class="text-5xl md:text-8xl font-sans font-800 tracking-tighter text-brand-black leading-[0.9] md:leading-[0.85]">
                Mission<br /><span class="text-brand-red">Log</span>
            </h2>
        </div>
        <div class="hidden md:block text-right">
           <span class="text-[10px] font-mono tracking-widest block opacity-60">STATUS: ONLINE</span>
           <span class="text-[10px] font-mono tracking-widest block opacity-60">SYSTEM: EFFICIENT</span>
        </div>
    </div>

  <!-- Projects Grid / List -->
  <div class="w-full max-w-[1440px] mx-auto">
    
    <!-- Table Header (Desktop Only) -->
    <div class="hidden md:grid grid-cols-12 gap-4 px-6 pb-4 pt-4 mt-8 border-y border-brand-black/10 text-[10px] font-mono font-bold tracking-widest uppercase opacity-40">
      <div class="col-span-1">ID</div>
      <div class="col-span-3">CLIENT / PROJECT</div>
      <div class="col-span-3">SERVICE</div>
      <div class="col-span-1">YEAR</div>
      <div class="col-span-2">STATUS</div>
      <div class="col-span-2 text-right">ACTION</div>
    </div>

    <!-- Project Rows -->
    {projects.map((project) => (
      <article class="group relative border-b border-brand-black/10 transition-colors duration-300 hover:bg-brand-salmon overflow-hidden">
        <!-- Background Image (Mobile: Always Visible / Desktop: On Hover) -->
        <div class="absolute top-0 right-0 h-full w-full md:w-[60%] opacity-20 md:opacity-0 md:group-hover:opacity-40 transition-opacity duration-500 pointer-events-none mix-blend-multiply z-0">
            <img 
                src={project.image} 
                alt="" 
                class="w-full h-full object-cover grayscale"
                style="mask-image: linear-gradient(to right, transparent 0%, black 30%, black 100%); -webkit-mask-image: linear-gradient(to right, transparent 0%, black 30%, black 100%);"
            />
        </div>

        <!-- Link Wrapper -->
        <a href={project.url} class="block w-full h-full">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-4 px-6 py-8 md:py-12 items-center">
            
            <!-- ID -->
            <div class="col-span-1 font-mono text-xs text-brand-red opacity-60 md:opacity-100 mb-2 md:mb-0">
                {project.id}
            </div>

            <!-- Client & Project -->
            <div class="col-span-11 md:col-span-3 mb-4 md:mb-0">
                <h3 class="text-2xl md:text-3xl font-sans font-bold leading-none uppercase text-brand-black group-hover:text-brand-red transition-colors duration-300">
                {project.client}
                </h3>
                <p class="text-sm font-sans font-medium opacity-60 mt-1 uppercase tracking-wide">
                {project.project}
                </p>
            </div>

            <!-- Service (Desktop) -->
            <div class="hidden md:block col-span-3 font-mono text-xs uppercase tracking-wider opacity-70">
                [{project.service}]
            </div>

            <!-- Year (Desktop) -->
            <div class="hidden md:block col-span-1 font-mono text-xs opacity-60">
                '{project.year.slice(2)}
            </div>

            <!-- Status -->
            <div class="hidden md:flex col-span-2 items-center gap-2 font-mono text-[10px] uppercase tracking-widest z-20 relative">
                <span class={`w-2 h-2 rounded-full ${project.status === 'IN PROGRESS' ? 'bg-brand-red animate-pulse' : 'bg-brand-black'}`}></span>
                {project.status}
            </div>

            <!-- Mobile: Combined Meta -->
            <div class="md:hidden col-span-11 flex flex-wrap gap-4 text-[10px] font-mono uppercase opacity-60 mt-2">
                <span>{project.service}</span>
                <span>//</span>
                <span>{project.year}</span>
            </div>

            <!-- Arrow (Desktop) -->
            <div class="hidden md:flex col-span-2 justify-end">
                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-brand-red group-hover:text-brand-black transition-colors duration-300">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                 </svg>
            </div>

            </div>
            
            <!-- Hover Image Reveal (Desktop Only) -->
            <!-- Using a fixed aspect ratio container that appears on hover/focus -->

        </a>
      </article>
    ))}
  </div>
  
  <!-- Mobile Disclaimer -->
  <div class="md:hidden px-6 py-8 border-b border-brand-black/10 text-center">
    <p class="text-[10px] font-mono opacity-50 uppercase">Tap project to view case details</p>
  </div>
</section>
