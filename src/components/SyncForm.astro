---

---

<form id="sync-form" class="w-full flex flex-col gap-6 font-sans">
  <div class="flex flex-col gap-2">
    <label
      for="name"
      class="text-xs font-sans font-bold tracking-widest uppercase text-brand-black"
      >NOMBRE / EMPRESA</label
    >
    <input
      type="text"
      id="name"
      name="name"
      required
      class="w-full bg-transparent border-b border-brand-black py-2 text-brand-black focus:outline-none focus:border-brand-red transition-colors text-sm placeholder:text-brand-black/30 font-semibold"
      placeholder="Ingrese su nombre o razón social"
    />
  </div>

  <div class="flex flex-col gap-2">
    <label
      for="email"
      class="text-xs font-sans font-bold tracking-widest uppercase text-brand-black"
      >CORREO CORPORATIVO</label
    >
    <input
      type="email"
      id="email"
      name="email"
      required
      class="w-full bg-transparent border-b border-brand-black py-2 text-brand-black focus:outline-none focus:border-brand-red transition-colors text-sm placeholder:text-brand-black/30 font-semibold"
      placeholder="Ingrese un email de contacto"
    />
  </div>

  <div class="flex flex-col gap-2">
    <label
      for="description"
      class="text-xs font-sans font-bold tracking-widest uppercase text-brand-black"
      >DESCRIPCIÓN DEL PROYECTO</label
    >
    <textarea
      id="description"
      name="description"
      rows="3"
      required
      class="w-full bg-transparent border-b border-brand-black py-2 text-brand-black focus:outline-none focus:border-brand-red transition-colors text-sm resize-none placeholder:text-brand-black/30 font-semibold"
      placeholder="Describa brevemente su necesidad u objetivo"></textarea>
  </div>

  <div class="flex flex-col gap-4">
    <button
      type="submit"
      class="mt-4 w-full md:w-auto self-start inline-flex items-center justify-center px-8 py-4 bg-brand-black text-brand-gray text-xs md:text-sm font-900 uppercase tracking-widest hover:bg-brand-red hover:text-white transition-all duration-300 rounded-full"
    >
      ENVIAR SOLICITUD
    </button>
    <p
      class="text-[10px] font-sans text-brand-black/60 uppercase tracking-widest font-bold"
    >
      — Un responsable de operaciones revisará su solicitud.
    </p>
  </div>
</form>

<script>
  const form = document.getElementById("sync-form") as HTMLFormElement;
  const descriptionInput = document.getElementById(
    "description",
  ) as HTMLTextAreaElement;

  // Handle query parameter for auto-filling description
  const updateDescriptionFromQuery = () => {
    const urlParams = new URLSearchParams(window.location.search);
    const subject = urlParams.get("subject");
    if (subject && descriptionInput) {
      descriptionInput.value = `INTERÉS EN SERVICIO/PROGRAMA: ${subject.toUpperCase()}\n\n`;
      // Smooth scroll to form if subject is present
      const formSection = document.getElementById("sync");
      if (formSection) {
        formSection.scrollIntoView({ behavior: "smooth" });
      }
    }
  };

  // Run on load
  updateDescriptionFromQuery();

  // Also listen for popstate or other navigation events if needed
  window.addEventListener("popstate", updateDescriptionFromQuery);

  form?.addEventListener("submit", (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const name = formData.get("name") || "";
    const email = formData.get("email") || "";
    const description = formData.get("description") || "";

    const text = `hola humanoides & asociados me llamo ${name} y quiero trabajar con ustedes, mi email es:${email}. El proyecto consiste en: ${description}. Saludos!`;
    const encodedText = encodeURIComponent(text);
    const whatsappUrl = `https://api.whatsapp.com/send?phone=34627191859&text=${encodedText}`;

    window.open(whatsappUrl, "_blank");

    // Optional: clear form
    form.reset();
  });
</script>
